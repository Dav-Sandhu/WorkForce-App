import{r as n,b as d,j as s,_ as c}from"./index.2b36dc93.js";const E=({employee_number:r,setShowJobs:_})=>{const[b,m]=n.exports.useState([]),[u,g]=n.exports.useState([]),[i,p]=n.exports.useState(""),[h,y]=n.exports.useState(!1),v=async()=>{const o=(await c(()=>import("./useDB.4a39d696.js"),[])).makeRequest,a=sessionStorage.getItem("token"),t=await o({employee_number:r},"/getjobs",a),l=await o(null,"/getinternalprocesses",a);g(t.output),m(l.output),l.output.length>0&&p(l.output[0].process_type)},A=async()=>{const o=(await c(()=>import("./useDB.4a39d696.js"),[])).makeRequest,a=await o({employee_number:r,process_type:i},"/assignjob",null);a.status===-1?c(()=>import("./Alert.f9e1cbc7.js"),["assets/Alert.f9e1cbc7.js","assets/index.2b36dc93.js","assets/index.c4470b89.css"]).then(async t=>{await t.customAlert("Failed to Assign Job!",a.error,"error")}):(await o({employee_number:r},"/deletejobrequest",null),c(()=>import("./Alert.f9e1cbc7.js"),["assets/Alert.f9e1cbc7.js","assets/index.2b36dc93.js","assets/index.c4470b89.css"]).then(async t=>{await t.customAlert("Success!","Job was successfully assigned to employee.","success")})),y(t=>!t)};return n.exports.useEffect(()=>{v()},[h]),d("div",{className:"jobs-modal",children:[d("div",{className:"top-section",children:[s("u",{children:s("h3",{children:"Assigned Jobs"})}),s("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>_(!1)})]}),u.length===0?s("p",{children:"No jobs assigned..."}):u.map(e=>s("p",{children:e.process_type},e.process_type)),s("h4",{children:"Select a job to assign"}),s("select",{value:i,onChange:e=>p(e.target.value),children:b.map(e=>s("option",{value:e.process_type,children:e.process_type},e.process_type))}),s("button",{type:"button",className:"btn btn-success",onClick:A,children:"Assign"})]})};export{E as default};
