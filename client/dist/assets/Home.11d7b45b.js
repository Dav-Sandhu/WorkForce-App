import{u as g,r as p,j as n,F as _,a as N,b as l,_ as v}from"./index.e276ba1f.js";function h(t){const s=new Date(t);let e=s.getUTCHours();const o=s.getUTCMinutes().toString().padStart(2,"0"),c=e>=12?"PM":"AM";return e=e%12,e=e||12,e=e.toString().padStart(2,"0"),`${e}:${o} ${c}`}function f(t){const s=t.split("T")[1],e=new Date;e.setHours(s.slice(0,2)),e.setMinutes(s.slice(3,5)),e.setSeconds(s.slice(6,8));const o=new Date-e,c=Math.floor(o/(1e3*60*60)).toString().padStart(2,"0"),a=Math.floor(o%(1e3*60*60)/(1e3*60)).toString().padStart(2,"0"),u=Math.floor(o%(1e3*60)/1e3).toString().padStart(2,"0");return`${c}:${a}:${u}`}function k(){const t=g(),s=t.userInfo.clock_in,e=t.userInfo.clock_out,[o,c]=p.exports.useState(s===null?new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e===null?"Hours Worked: "+f(s):"");return p.exports.useEffect(()=>{const a=setInterval(()=>{c(s!==null&&e===null?"Hours Worked: "+f(s):new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},1e3);return()=>clearInterval(a)},[]),n(_,{children:o})}const S=()=>{const t=g(),s=N(),e=t.userInfo.picture.length>0?t.userInfo.picture:"/default profile picture.jpg",o=t.userInfo.first_name+" "+t.userInfo.last_name,c=t.userInfo.email,a="$"+t.userInfo.hourly_wage+"/hour",u=t.userInfo.employee_number,r=t.userInfo.clock_in,i=t.userInfo.clock_out;return l("section",{className:"vh-100",style:{backgroundColor:"#eee"},children:[r!==null&&i===null?n(k,{}):"",n("div",{className:"container py-5 h-100",children:n("div",{className:"row d-flex justify-content-center align-items-center h-100",children:n("div",{className:"col-md-12 col-xl-4",children:n("div",{className:"card",style:{borderRadius:"15px"},children:l("div",{className:"card-body text-center",children:[n("div",{className:"mt-3 mb-4",children:n("img",{src:e,className:"rounded-circle img-fluid",style:{width:"100px"}})}),n("h4",{className:"mb-2",children:o}),n("p",{className:"text-muted mb-4",children:c}),i===null?n("button",{type:"button",className:"btn btn-primary btn-rounded btn-lg",onClick:()=>{r===null?(async()=>{const m=(await v(()=>import("./useDB.4a39d696.js"),[])).makeRequest,b=await m({employee_number:u},"/clockin",null),d={...t.userInfo,clock_in:b.output[0].clock_in};t.setUserInfo(d);const I=await m(d,"/updateToken",null);sessionStorage.removeItem("token"),sessionStorage.setItem("token",I.token)})():s("/tasks")},children:r!==null?"Tasks":"Clock In"}):"You Are Done For The Day!",l("div",{className:"d-flex justify-content-between text-center mt-5 mb-2",children:[l("div",{children:[n("p",{className:"mb-2 mr-3 h5 text-nowrap ",children:u}),n("p",{className:"text-muted mb-0",children:"Employee Number"})]}),l("div",{children:[n("p",{className:"mb-2 mr-3 h5 text-nowrap ",children:r===null?n(k,{}):h(i===null?r:i)}),n("p",{className:"text-muted mb-0",children:r===null?"Current Time":i===null?"Clocked In":"Clocked Out"})]}),l("div",{className:"px-3",children:[n("p",{className:"mb-2 mr-3 h5 text-nowrap ",children:a}),n("p",{className:"text-muted mb-0",children:"Hourly Wage"})]})]})]})})})})})]})};export{S as default};
