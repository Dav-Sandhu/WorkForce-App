import{r,j as e,a as s,F as S,_ as m}from"./index.50fafca2.js";import{N as q}from"./Navbar.85d5ef3a.js";/* empty css               */const D=()=>{const c=sessionStorage.getItem("token"),[u,b]=r.exports.useState([]),[n,v]=r.exports.useState("wage"),[i,N]=r.exports.useState(""),[p,y]=r.exports.useState(0),[_,h]=r.exports.useState(0),[f,g]=r.exports.useState(0),[w,x]=r.exports.useState(""),d=async(a,t)=>{const l=(await m(()=>import("./Alert.4c3b8990.js"),["assets/Alert.4c3b8990.js","assets/index.50fafca2.js","assets/index.c4470b89.css"])).customAlert;a===1?await l(t,"","success"):await l("Something Went Wrong!","Please try again.","error")},k=async()=>{const t=(await m(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,o=await t(null,"/getemployees",c,"get");b(o.output)};return r.exports.useEffect(()=>{k()},[]),e(q,{children:s("section",{className:"update-section",children:[e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"display-items",children:u.map(a=>e("div",{className:"display-item",children:s("div",{className:"card",children:[e("div",{className:"profile-picture-section",children:e("img",{className:"profile-picture card-img-top",loading:"lazy",src:a.picture,onError:t=>{t.target.onerror=null,t.target.src="/default profile picture.jpg"},alt:"Card image cap"})}),s("div",{className:"card-body",children:[e("h5",{className:"card-title overflow-hidden",children:a.first_name+" "+a.last_name}),a.is_supervisor?e("p",{className:"mb-0 overflow-hidden",children:"Supervisor"}):e("p",{className:"mb-0 overflow-hidden",children:"Employee"}),e("p",{className:"mb-0 overflow-hidden",children:"ADP Number: "+a.adp_number||"Not Assigned"}),e("p",{className:"mb-0 overflow-hidden",children:a.email}),e("p",{className:"mb-0 overflow-hidden",children:"Hourly Wage: $"+a.hourly_wage}),e("button",{type:"button",className:"btn btn-danger",onClick:()=>{(async()=>{const l=(await m(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,E=await l({employee_number:a.employee_number,first_name:a.first_name,last_name:a.last_name},"/removeemployee",c,"post");await d(E.status,"Employee Deleted!"),window.location.reload()})()},children:"delete"})]})]})},a.employee_number))})})})}),e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"card rounded-3",children:s("div",{className:"card-body p-4 p-md-5",children:[e("h3",{className:"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2",children:"Update Employee"}),s("form",{className:"px-md-2",children:[e("div",{className:"form-outline mb-4",children:s("select",{className:"form-select",id:"employee_number",name:"employee_number",value:i,onChange:a=>N(a.target.value),children:[e("option",{children:"select employee"}),u.map(a=>e("option",{value:a.employee_number,children:a.first_name+" "+a.last_name+" ("+a.email+")"},a.employee_number))]})}),e("div",{className:"form-outline mb-4",children:s("div",{className:"form-check mb-2",children:[e("input",{className:"form-check-input",type:"checkbox",id:"select",checked:n==="supervisor",onChange:()=>{v(n==="wage"?"supervisor":"wage")}}),e("label",{className:"form-check-label",htmlFor:"select",children:"Upgrade to Supervisor"})]})}),n==="wage"?s(S,{children:[s("div",{className:"input-group mb-3",children:[e("span",{className:"input-group-text",id:"adp",children:"Update ADP Number"}),e("input",{type:"text",className:"form-control",maxLength:"3",value:w,onChange:a=>x(a.target.value)})]}),s("div",{className:"form-outline mb-4",children:[s("div",{className:"input-group mb-2",children:[e("div",{className:"input-group-prepend",children:e("div",{className:"input-group-text",children:"$"})}),e("input",{type:"number",step:"0.01",id:"hourly_wage",className:"form-control",value:p,onChange:a=>y(a.target.value)})]}),e("label",{className:"form-label",htmlFor:"hourly_wage",children:"Hourly Wage"})]}),s("div",{className:"input-group mb-3",children:[e("span",{className:"input-group-text",id:"break_time",children:"Break Minutes"}),e("input",{type:"number",className:"form-control",step:"1",value:_,onChange:a=>{const t=parseInt(a.target.value)||0;t>=0?h(t):h(0)}})]}),s("div",{className:"input-group mb-3",children:[e("span",{className:"input-group-text",id:"lunch_time",children:"Lunch Minutes"}),e("input",{type:"number",className:"form-control",step:"1",value:f,onChange:a=>{const t=parseInt(a.target.value)||0;t>=0?g(t):g(0)}})]})]}):""]}),e("button",{type:"button",className:"btn btn-success btn-lg mb-1",onClick:()=>{(async()=>{const o=(await m(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest;if(n==="wage"){const l=i.length>0?await o({employee_number:i,hourly_wage:p},"/updateemployeewage",c,"post"):{status:-1};await d(l.status,"Employee Updated!")}else if(n==="supervisor"){const l=await o({employee_number:i},"/upgradeuser",c,"post");await d(l.status,"Employee Updated!")}window.location.reload()})()},children:"Update"})]})})})})})]})})};export{D as default};
