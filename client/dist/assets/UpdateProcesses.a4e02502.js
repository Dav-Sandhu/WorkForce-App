import{r as m,j as e,a as s,_ as i}from"./index.392e2e1d.js";import{N as y}from"./Navbar.b2c69ef7.js";/* empty css               */const N=(t,{type:d,payload:n})=>{switch(d){case"process_type":return{...t,process_type:n};case"billable":return{...t,billable:!t.billable};case"hourly_rate":return{...t,hourly_rate:parseFloat(n)};default:return t}},g=()=>{const t=sessionStorage.getItem("token"),[d,n]=m.exports.useState([]),[a,p]=m.exports.useReducer(N,{process_type:"",billable:!1,hourly_rate:0}),u=async(l,o)=>{const r=(await i(()=>import("./Alert.0f69a7f2.js"),["assets/Alert.0f69a7f2.js","assets/index.392e2e1d.js","assets/index.c4470b89.css"])).customAlert;l===1?await r(o,"","success"):await r("Something Went Wrong!","Please try again.","error")},b=async()=>{const o=(await i(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,c=await o(null,"/getinternalprocesses",t,"get");n(c.output)},h=l=>{p({type:l.target.id,payload:l.target.value})};return m.exports.useEffect(()=>{b()},[]),e(y,{children:s("section",{className:"update-section",children:[e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"display-items",children:d.map(l=>s("div",{className:"display-item",children:[e("div",{className:"card-header p-4 pb-0",children:e("h3",{className:"mb-0 overflow-hidden",children:l.process_type})}),s("div",{className:"card-body p-4 pt-0",children:[s("p",{className:"mb-0 overflow-hidden",children:["Billable: ",l.billable?"Yes":"No"]}),s("p",{className:"mb-0 overflow-hidden",children:["Hourly Rate: ",l.hourly_rate]}),e("button",{type:"button",className:"btn btn-danger",onClick:()=>{(async()=>{const r=(await i(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,_=await r({process_type:l.process_type},"/deleteinternalprocess",t,"post");await u(_.status,"Process Deleted!"),window.location.reload()})()},children:"delete"})]})]},l.process_type))})})})}),e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"card rounded-3",children:s("div",{className:"card-body p-4 p-md-5",children:[e("h3",{className:"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2",children:"Add Process"}),s("form",{className:"px-md-2",children:[s("div",{className:"form-outline mb-4",children:[e("input",{type:"text",id:"process_type",className:"form-control",value:a.process_type,onChange:h}),e("label",{className:"form-label",htmlFor:"process_type",children:"Process Type"})]}),e("div",{className:"form-outline mb-4",children:s("div",{className:"form-check mb-2",children:[e("input",{className:"form-check-input",type:"checkbox",id:"billable",checked:a.billable,onChange:()=>{p({type:"billable",value:""})}}),e("label",{className:"form-check-label",htmlFor:"billable",children:"Billable?"})]})}),a.billable?s("div",{className:"form-outline mb-4",children:[s("div",{className:"input-group mb-2",children:[e("div",{className:"input-group-prepend",children:e("div",{className:"input-group-text",children:"$"})}),e("input",{type:"number",step:"0.01",id:"hourly_rate",className:"form-control",value:a.hourly_rate,onChange:h})]}),e("label",{className:"form-label",htmlFor:"hourly_rate",children:"Hourly Rate"})]}):""]}),e("button",{type:"button",className:"btn btn-success btn-lg mb-1",onClick:()=>{const l=async()=>{const c=(await i(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,r=await c({process_type:a.process_type,billable:a.billable?1:0,hourly_rate:a.billable?a.hourly_rate:null},"/addinternalprocess",t,"post");await u(r.status,"Process Added!"),window.location.reload()};a.process_type.length>0?l():(async()=>{const r=(await i(()=>import("./Alert.0f69a7f2.js"),["assets/Alert.0f69a7f2.js","assets/index.392e2e1d.js","assets/index.c4470b89.css"])).customAlert;await r("Please fill out all fields","","error")})()},children:"Add"})]})})})})})]})})};export{g as default};
