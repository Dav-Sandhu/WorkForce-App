import{r as d,u as h,a as p,j as o,_ as a}from"./index.ff36024a.js";import{W as k}from"./react-webcam.6267d9b4.js";const I=({setWebcamActive:l},s)=>{h();const[n,m]=d.exports.useState(!1);return p("div",{className:"webcam-modal",children:[n&&o("button",{className:"btn btn-danger btn-rounded close-webcam-button",onClick:()=>l(!1),children:"x"}),o(k,{audio:!1,ref:s,height:"100%",width:"100%",screenshotFormat:"image/jpeg",screenshotSize:{width:500,height:500},onUserMedia:()=>m(!0)}),n&&o("button",{className:"take-picture btn btn-success btn-rounded btn-lg",onClick:()=>{const u=s.current.getScreenshot(),t=new Image;t.src=u,t.onload=async()=>{const e=document.createElement("canvas"),g=e.getContext("2d");e.width=500,e.height=500,g.drawImage(t,0,0,500,500);const b=e.toDataURL(),_=(await a(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,r=await _({image:b,token:sessionStorage.getItem("token")},"/upload-image",sessionStorage.getItem("token"),"post");if(r.status===1){const c=r.token;sessionStorage.removeItem("token"),sessionStorage.setItem("token",c);const w=(await a(()=>import("./Alert.21c38849.js"),["assets/Alert.21c38849.js","assets/index.ff36024a.js","assets/index.c4470b89.css"])).customAlert;await w("Success!","Picture updated.","success")}else{const i=(await a(()=>import("./Alert.21c38849.js"),["assets/Alert.21c38849.js","assets/index.ff36024a.js","assets/index.c4470b89.css"])).customAlert;await i("Picture Failed To Upload!","Please try again later.","error")}window.location.reload()}},children:"Take Picture"})]})},M=d.exports.forwardRef(I);export{M as default};
