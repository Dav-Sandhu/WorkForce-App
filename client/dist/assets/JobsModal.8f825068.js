import{r as a,b as d,j as t,_ as r}from"./index.8bf178f5.js";const E=({employee_number:i,setShowJobs:_})=>{const n=sessionStorage.getItem("token"),[b,g]=a.exports.useState([]),[u,m]=a.exports.useState([]),[l,p]=a.exports.useState(""),[h,y]=a.exports.useState(!1),v=async()=>{const o=(await r(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,c=await o({employee_number:i},"/getjobs",n,"get"),s=await o(null,"/getinternalprocesses",n,"get");m(c.output),g(s.output),s.output.length>0&&p(s.output[0].process_type)},A=async()=>{const o=(await r(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,c=await o({employee_number:i,process_type:l},"/assignjob",n,"post");c.status===-1?r(()=>import("./Alert.7f100a36.js"),["assets/Alert.7f100a36.js","assets/index.8bf178f5.js","assets/index.c4470b89.css"]).then(async s=>{await s.customAlert("Failed to Assign Job!",c.error,"error")}):(await o({employee_number:i},"/deletejobrequest",n,"post"),r(()=>import("./Alert.7f100a36.js"),["assets/Alert.7f100a36.js","assets/index.8bf178f5.js","assets/index.c4470b89.css"]).then(async s=>{await s.customAlert("Success!","Job was successfully assigned to employee.","success")})),y(s=>!s)};return a.exports.useEffect(()=>{v()},[h]),d("div",{className:"jobs-modal",children:[d("div",{className:"top-section",children:[t("u",{children:t("h3",{children:"Assigned Jobs"})}),t("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>_(!1)})]}),u.length===0?t("p",{children:"No jobs assigned..."}):u.map(e=>t("p",{children:e.process_type},e.process_type)),t("h4",{children:"Select a job to assign"}),t("select",{value:l,onChange:e=>p(e.target.value),children:b.map(e=>t("option",{value:e.process_type,children:e.process_type},e.process_type))}),t("button",{type:"button",className:"btn btn-success",onClick:A,children:"Assign"})]})};export{E as default};
