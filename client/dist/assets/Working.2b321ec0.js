import{r as o,_ as r,u as d,b as s,F as _,j as t}from"./index.4e73f947.js";const p=o.exports.lazy(()=>r(()=>import("./UserButton.dd60ea4e.js"),["assets/UserButton.dd60ea4e.js","assets/index.4e73f947.js","assets/index.c4470b89.css","assets/UserButton.d52919d1.css"])),w=()=>{const[a,l]=o.exports.useState([]),i=d().userInfo.employee_number,c=async()=>{const n=(await r(()=>import("./useDB.4a39d696.js"),[])).makeRequest,u=await n({employee_number:i},"/getunfinishedprocesses",sessionStorage.getItem("token"));l(u.output)};return o.exports.useEffect(()=>{c()},[]),s(_,{children:[t(p,{})," ",t("br",{}),s("div",{className:"working-container",children:[t("h1",{className:"jobs-title fw-bold fs-25 mb-4 text-center text-dark title",children:"Currently Working On"}),a.length===0?t("h5",{className:"text-center text-muted",children:"You are not working on anything..."}):a.map(e=>{const n=new Date(e.start);return s("div",{className:"ongoing-task mb-4",children:[s("div",{className:"work-information",children:[t("h3",{children:e.business_name+": "+e.process_type}),t("p",{children:n.toLocaleString()})]}),t("button",{className:"btn btn-danger",onClick:()=>{(async()=>{const m=(await r(()=>import("./useDB.4a39d696.js"),[])).makeRequest;(await m({employee_number:i,process_type:e.process_type,business_name:e.business_name,contact_email:e.contact_email,start:e.start},"/finishjob",null)).status===1?c():alert("Something went wrong: please try again later")})()},children:"Finished"})]},e.start)})]})]})};export{w as default};
