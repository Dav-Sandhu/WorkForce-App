import{r as d,_ as r,u as w,b as N,j as e,F as v,a as s}from"./index.5bcfb8c0.js";const b=(a,{type:u,payload:l})=>{switch(u){case"employee_number":return{...a,employee_number:l};case"password":return{...a,password:l};case"repeat_password":return{...a,repeat_password:l};case"first_name":return{...a,first_name:l};case"last_name":return{...a,last_name:l};case"email":return{...a,email:l};case"hourly_wage":return{...a,hourly_wage:parseFloat(l)};case"picture":return{...a,picture:l};default:return a}},x=d.exports.lazy(()=>r(()=>import("./Spinner.e272ab55.js"),["assets/Spinner.e272ab55.js","assets/index.5bcfb8c0.js","assets/index.c4470b89.css"])),k=()=>{const[a,u]=d.exports.useReducer(b,{employee_number:"",first_name:"",password:"",repeat_password:"",last_name:"",email:"",hourly_wage:0,picture:"",is_admin:0}),[l,h]=d.exports.useState(!1),o=t=>{u({type:t.target.id,payload:t.target.value})},p=w(),_=N();return d.exports.useEffect(()=>{const t=sessionStorage.getItem("token");t!==null&&((async()=>{const i=await r(()=>import("./useDB.d7bc65b2.js"),[]);(await(await r(()=>import("./TokenLogin.5150e2e9.js"),[])).default(t,i.makeRequest,()=>_("/"),p)).status===-1&&(sessionStorage.removeItem("token"),window.location.reload())})(),h(!0))},[]),e(v,{children:l?e(x,{}):e("section",{className:"vh-100",style:{backgroundColor:"#eee"},children:e("div",{className:"container h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-12 col-xl-11",children:e("div",{className:"card text-black",style:{borderRadius:"25px"},children:e("div",{className:"card-body p-md-5",children:s("div",{className:"row justify-content-center",children:[s("div",{className:"col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1",children:[e("p",{className:"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4",children:"Sign up"}),s("form",{className:"mx-1 mx-md-4",onSubmit:t=>{t.preventDefault();const g=async()=>{const n=(await r(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,f=await n({email:a.email},"/checkemployee",null,"");if(f.status===1&&f.found){const m=await n(a,"/registeremployee",null,"");if(m.status===1){const c=m.token;sessionStorage.setItem("token",c),(await r(()=>import("./TokenLogin.5150e2e9.js"),[])).default(c,n,()=>_("/"),p)}else r(()=>import("./Alert.643fc480.js"),["assets/Alert.643fc480.js","assets/index.5bcfb8c0.js","assets/index.c4470b89.css"]).then(async c=>{await c.customAlert("There Was A Problem!","Failed to register employee.","error")})}else r(()=>import("./Alert.643fc480.js"),["assets/Alert.643fc480.js","assets/index.5bcfb8c0.js","assets/index.c4470b89.css"]).then(async m=>{await m.customAlert("Could Not Proceed!","Email already registered.","error")})};a.first_name.length>0&&a.last_name.length>0&&a.email.length>0&&a.password.length>0&&a.password===a.repeat_password?g():r(()=>import("./Alert.643fc480.js"),["assets/Alert.643fc480.js","assets/index.5bcfb8c0.js","assets/index.c4470b89.css"]).then(async i=>{await i.customAlert("Could Not Proceed!","Please fill out all fields.","error")})},children:[s("div",{className:"d-flex flex-row align-items-center mb-4",children:[e("i",{className:"fas fa-user fa-lg me-3 fa-fw"}),s("div",{className:"form-outline flex-fill mb-0",children:[e("input",{type:"text",id:"first_name",className:"form-control",value:a.first_name,onChange:o}),e("label",{className:"form-label",htmlFor:"first_name",children:"First Name"})]})]}),s("div",{className:"d-flex flex-row align-items-center mb-4",children:[e("i",{className:"fas fa-user fa-lg me-3 fa-fw"}),s("div",{className:"form-outline flex-fill mb-0",children:[e("input",{type:"text",id:"last_name",className:"form-control",value:a.last_name,onChange:o}),e("label",{className:"form-label",htmlFor:"last_name",children:"Last Name"})]})]}),s("div",{className:"d-flex flex-row align-items-center mb-4",children:[e("i",{className:"fas fa-envelope fa-lg me-3 fa-fw"}),s("div",{className:"form-outline flex-fill mb-0",children:[e("input",{type:"email",id:"email",className:"form-control",value:a.email,onChange:o}),e("label",{className:"form-label",htmlFor:"email",children:"Your Email"})]})]}),s("div",{className:"d-flex flex-row align-items-center mb-4",children:[e("i",{className:"fas fa-envelope fa-lg me-3 fa-fw"}),s("div",{className:"form-outline flex-fill mb-0",children:[e("input",{type:"password",id:"password",className:"form-control",value:a.password,onChange:o}),e("label",{className:"form-label",htmlFor:"password",children:"Password"})]})]}),s("div",{className:"d-flex flex-row align-items-center mb-4",children:[e("i",{className:"fas fa-key fa-lg me-3 fa-fw"}),s("div",{className:"form-outline flex-fill mb-0",children:[e("input",{type:"password",id:"repeat_password",className:"form-control",value:a.repeat_password,onChange:o}),e("label",{className:"form-label",htmlFor:"repeat_password",children:"Repeat your password"})]})]}),e("div",{className:"d-flex justify-content-center mx-4 mb-3 mb-lg-4",children:e("input",{type:"submit",className:"btn btn-primary btn-lg",value:"Register"})})]})]}),e("div",{className:"col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2",children:e("img",{src:"/register image.jpg",className:"img-fluid",alt:"Sample image"})})]})})})})})})})})};export{k as default};
