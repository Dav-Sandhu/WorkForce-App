import{r,j as e,b as l,_ as n}from"./index.f3b74e0f.js";import{N as g}from"./Navbar.31ce31e5.js";/* empty css               */const w=()=>{const c=sessionStorage.getItem("token"),[m,p]=r.exports.useState([]),[i,h]=r.exports.useState(""),[d,y]=r.exports.useState(0),u=async(a,t)=>{const s=(await n(()=>import("./Alert.5bd62a5d.js"),["assets/Alert.5bd62a5d.js","assets/index.f3b74e0f.js","assets/index.c4470b89.css"])).customAlert;a===1?await s(t,"","success"):await s("Something Went Wrong!","Please try again.","error")},_=async()=>{const t=(await n(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,o=await t(null,"/getemployees",c,"get");p(o.output)};return r.exports.useEffect(()=>{_()},[]),e(g,{children:l("section",{className:"update-section",children:[e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"display-items",children:m.map(a=>e("div",{className:"display-item",children:l("div",{className:"card",children:[e("div",{className:"profile-picture-section",children:e("img",{className:"profile-picture card-img-top",loading:"lazy",src:a.picture,onError:t=>{t.target.onerror=null,t.target.src="/default profile picture.jpg"},alt:"Card image cap"})}),l("div",{className:"card-body",children:[e("h5",{className:"card-title overflow-hidden",children:a.first_name+" "+a.last_name}),e("p",{className:"mb-0 overflow-hidden",children:"#"+a.employee_number}),e("p",{className:"mb-0 overflow-hidden",children:a.email}),e("p",{className:"mb-0 overflow-hidden",children:"Hourly Wage: $"+a.hourly_wage}),e("button",{type:"button",className:"btn btn-danger",onClick:()=>{(async()=>{const s=(await n(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,b=await s({employee_number:a.employee_number,first_name:a.first_name,last_name:a.last_name},"/removeemployee",c,"post");await u(b.status,"Employee Deleted!"),window.location.reload()})()},children:"delete"})]})]})},a.employee_number))})})})}),e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"card rounded-3",children:l("div",{className:"card-body p-4 p-md-5",children:[e("h3",{className:"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2",children:"Update Employee"}),l("form",{className:"px-md-2",children:[e("div",{className:"form-outline mb-4",children:l("select",{className:"form-select",id:"employee_number",name:"employee_number",value:i,onChange:a=>h(a.target.value),children:[e("option",{children:"select employee number"}),m.map(a=>e("option",{value:a.employee_number,children:a.employee_number},a.employee_number))]})}),l("div",{className:"form-outline mb-4",children:[l("div",{className:"input-group mb-2",children:[e("div",{className:"input-group-prepend",children:e("div",{className:"input-group-text",children:"$"})}),e("input",{type:"number",step:"0.01",id:"hourly_wage",className:"form-control",value:d,onChange:a=>y(a.target.value)})]}),e("label",{className:"form-label",htmlFor:"hourly_wage",children:"Hourly Wage"})]})]}),e("button",{type:"button",className:"btn btn-success btn-lg mb-1",onClick:()=>{(async()=>{const o=(await n(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,s=i.length>0?await o({employee_number:i,hourly_wage:d},"/updateemployeewage",c,"post"):{status:-1};await u(s.status,"Employee Updated!"),window.location.reload()})()},children:"Update"})]})})})})})]})})};export{w as default};
