import{r as c,j as e,a as s,_ as m}from"./index.ff36024a.js";import{N}from"./Navbar.cea5a718.js";/* empty css               */const k=()=>{const n=sessionStorage.getItem("token"),[u,h]=c.exports.useState([]),[r,y]=c.exports.useState("wage"),[i,b]=c.exports.useState(""),[p,g]=c.exports.useState(0),d=async(a,t)=>{const l=(await m(()=>import("./Alert.21c38849.js"),["assets/Alert.21c38849.js","assets/index.ff36024a.js","assets/index.c4470b89.css"])).customAlert;a===1?await l(t,"","success"):await l("Something Went Wrong!","Please try again.","error")},_=async()=>{const t=(await m(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,o=await t(null,"/getemployees",n,"get");h(o.output)};return c.exports.useEffect(()=>{_()},[]),e(N,{children:s("section",{className:"update-section",children:[e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"display-items",children:u.map(a=>e("div",{className:"display-item",children:s("div",{className:"card",children:[e("div",{className:"profile-picture-section",children:e("img",{className:"profile-picture card-img-top",loading:"lazy",src:a.picture,onError:t=>{t.target.onerror=null,t.target.src="/default profile picture.jpg"},alt:"Card image cap"})}),s("div",{className:"card-body",children:[e("h5",{className:"card-title overflow-hidden",children:a.first_name+" "+a.last_name}),a.is_supervisor?e("p",{className:"mb-0 overflow-hidden",children:"Supervisor"}):e("p",{className:"mb-0 overflow-hidden",children:"Employee"}),e("p",{className:"mb-0 overflow-hidden",children:"#"+a.employee_number}),e("p",{className:"mb-0 overflow-hidden",children:a.email}),e("p",{className:"mb-0 overflow-hidden",children:"Hourly Wage: $"+a.hourly_wage}),e("button",{type:"button",className:"btn btn-danger",onClick:()=>{(async()=>{const l=(await m(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,v=await l({employee_number:a.employee_number,first_name:a.first_name,last_name:a.last_name},"/removeemployee",n,"post");await d(v.status,"Employee Deleted!"),window.location.reload()})()},children:"delete"})]})]})},a.employee_number))})})})}),e("div",{className:"container py-5 h-100",children:e("div",{className:"row d-flex justify-content-center align-items-center h-100",children:e("div",{className:"col-lg-8 col-xl-6",children:e("div",{className:"card rounded-3",children:s("div",{className:"card-body p-4 p-md-5",children:[e("h3",{className:"mb-4 pb-2 pb-md-0 mb-md-5 px-md-2",children:"Update Employee"}),s("form",{className:"px-md-2",children:[e("div",{className:"form-outline mb-4",children:s("select",{className:"form-select",id:"employee_number",name:"employee_number",value:i,onChange:a=>b(a.target.value),children:[e("option",{children:"select employee number"}),u.map(a=>e("option",{value:a.employee_number,children:a.employee_number},a.employee_number))]})}),e("div",{className:"form-outline mb-4",children:s("div",{className:"form-check mb-2",children:[e("input",{className:"form-check-input",type:"checkbox",id:"select",checked:r==="supervisor",onChange:()=>{y(r==="wage"?"supervisor":"wage")}}),e("label",{className:"form-check-label",htmlFor:"select",children:"Upgrade to Supervisor"})]})}),r==="wage"?s("div",{className:"form-outline mb-4",children:[s("div",{className:"input-group mb-2",children:[e("div",{className:"input-group-prepend",children:e("div",{className:"input-group-text",children:"$"})}),e("input",{type:"number",step:"0.01",id:"hourly_wage",className:"form-control",value:p,onChange:a=>g(a.target.value)})]}),e("label",{className:"form-label",htmlFor:"hourly_wage",children:"Hourly Wage"})]}):""]}),e("button",{type:"button",className:"btn btn-success btn-lg mb-1",onClick:()=>{(async()=>{const o=(await m(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest;if(r==="wage"){const l=i.length>0?await o({employee_number:i,hourly_wage:p},"/updateemployeewage",n,"post"):{status:-1};await d(l.status,"Employee Updated!")}else if(r==="supervisor"){const l=await o({employee_number:i},"/upgradeuser",n,"post");await d(l.status,"Employee Updated!")}window.location.reload()})()},children:"Update"})]})})})})})]})})};export{k as default};
