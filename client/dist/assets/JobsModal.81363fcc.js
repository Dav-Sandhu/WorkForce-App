import{r as n,b as d,j as e,_ as c}from"./index.0b492040.js";const E=({employee_number:r,setShowJobs:_})=>{const[b,g]=n.exports.useState([]),[u,m]=n.exports.useState([]),[i,p]=n.exports.useState(""),[h,y]=n.exports.useState(!1),v=async()=>{const o=(await c(()=>import("./useDB.4a39d696.js"),[])).makeRequest,a=sessionStorage.getItem("token"),t=await o({employee_number:r},"/getjobs",a),l=await o(null,"/getinternalprocesses",a);m(t.output),g(l.output),l.output.length>0&&p(l.output[0].process_type)},A=async()=>{const o=(await c(()=>import("./useDB.4a39d696.js"),[])).makeRequest,a=await o({employee_number:r,process_type:i},"/assignjob",null);a.status===-1?c(()=>import("./Alert.88d7a3eb.js"),["assets/Alert.88d7a3eb.js","assets/index.0b492040.js","assets/index.c4470b89.css"]).then(async t=>{await t.customAlert("Failed to Assign Job!",a.error,"error")}):(await o({employee_number:r},"/deletejobrequest",null),c(()=>import("./Alert.88d7a3eb.js"),["assets/Alert.88d7a3eb.js","assets/index.0b492040.js","assets/index.c4470b89.css"]).then(async t=>{await t.customAlert("Success!","Job was successfully assigned to employee.","success")})),y(t=>!t)};return n.exports.useEffect(()=>{v()},[h]),d("div",{className:"jobs-modal",children:[d("div",{className:"top-section",children:[e("u",{children:e("h3",{children:"Assigned Jobs"})}),e("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:()=>_(!1)})]}),u.length===0?e("p",{children:"No jobs assigned..."}):u.map(s=>e("p",{children:s.process_type},s.process_type)),e("h4",{children:"Select a job to assign"}),e("select",{value:i,onChange:s=>p(s.target.value),children:b.map(s=>e("option",{value:s.process_type,children:s.process_type},s.process_type))}),e("button",{type:"button",className:"btn btn-success",onClick:A,children:"Assign"})]})};export{E as default};
