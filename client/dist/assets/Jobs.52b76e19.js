import{r as t,_ as o,b as y,u as v,j as e,F as u,a as i}from"./index.2a58c38f.js";const j=t.exports.lazy(()=>o(()=>import("./UserButton.1ecd4968.js"),["assets/UserButton.1ecd4968.js","assets/index.2a58c38f.js","assets/index.c4470b89.css","assets/UserButton.d52919d1.css"])),E=t.exports.lazy(()=>o(()=>import("./Customers.77d28f33.js"),["assets/Customers.77d28f33.js","assets/index.2a58c38f.js","assets/index.c4470b89.css"])),S=t.exports.lazy(()=>o(()=>import("./Spinner.2a583fae.js"),["assets/Spinner.2a583fae.js","assets/index.2a58c38f.js","assets/index.c4470b89.css"])),I=()=>{const r=y(),d=v(),[_,m]=t.exports.useState(!0),[a,p]=t.exports.useState([]),[n,b]=t.exports.useState(!0),[h,g]=t.exports.useState(""),x=s=>{m(!1),p(s)};return t.exports.useEffect(()=>{(async()=>{const c=sessionStorage.getItem("token");if(c!==null){const f=(await o(()=>import("./useDB.d7bc65b2.js"),[])).makeRequest,l=await f({employee_number:d.userInfo.employee_number},"/getjobs",c,"get");l.status===1?x(l.output):r("/")}else r("/login")})()},[]),e(u,{children:_?e(S,{}):e(u,{children:i("div",{className:"jobs-page",children:[e(j,{})," ",e("br",{}),i("div",{className:"jobs-title",children:[e("h1",{className:"fw-bold fs-25 mb-4 text-center text-dark title",children:n?"What job are you working on?":"What customer are you doing the job for?"}),a.length===0?e("h5",{className:"text-center text-muted",children:"There are no jobs available right now..."}):""]}),e("div",{className:"jobs",children:n?a.map(s=>e("button",{className:"btn btn-lg btn-secondary",onClick:()=>{g(s.process_type),b(!1)},children:s.process_type},s.process_type)):e(E,{selectedJob:h})})]})})})};export{I as default};
